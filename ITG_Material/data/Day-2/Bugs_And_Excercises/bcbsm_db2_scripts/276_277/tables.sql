--=============================================================================
--	Filename:	tables.sql
--	Author:		Nanaji Veturi
--	Date:		OCT/21/2010
--	Description:
--	This file creates the tables for the Transaction 276-277
--=============================================================================
CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_RT_276_277_ACKN_MSG') ;

CREATE TABLE EDIDB2A.T_RT_276_277_ACKN_MSG (
	UU_ID BIGINT NOT NULL,
	RCD_TYPE_CD CHARACTER(1) NOT NULL,
	DIR_IND CHARACTER(1) NOT NULL,
	SEQ_NUM INTEGER,
	SUBM_ID VARCHAR(15),
	RECR_ID VARCHAR(15),
	TRAN_TYPE_CD VARCHAR(3),
	SRC_TRAN_TYPE_CD VARCHAR(3),
	MSG_TS TIMESTAMP,
	MSG_OBJ CLOB,
	MSG_DAY INTEGER,
	SRC_TRAN_TS TIMESTAMP,
	TRAN_SET_ACKN_CD CHARACTER(1),
	SRC_TRAN_CTRL_NUM VARCHAR(9),
	TRAN_TYPE_SYTX_ERR_CD VARCHAR(3),
	UPDT_BY VARCHAR(30),
	UPDT_TS TIMESTAMP,
	PRIMARY KEY (UU_ID,RCD_TYPE_CD,DIR_IND)
)IN TBSP_CLOBS INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_RT_276_277_ACKN_MSG  ADD CONSTRAINT  X_T_RT_276_277_ACKN_MSG PRIMARY KEY (UU_ID,RCD_TYPE_CD,DIR_IND);

CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_RT_276_ANSI_MSG') ;

CREATE TABLE EDIDB2A.T_RT_276_ANSI_MSG (
	UU_ID BIGINT NOT NULL,
	RCD_TYPE_CD CHARACTER(1) NOT NULL,
	DIR_IND CHARACTER(1) NOT NULL,
	SEQ_NUM INTEGER,
	MSG_OBJ CLOB,
	MSG_DAY INTEGER,
	MSG_TS TIMESTAMP,
	PRIMARY KEY (UU_ID,RCD_TYPE_CD,DIR_IND)
)IN TBSP_CLOBS INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_RT_276_ANSI_MSG  ADD CONSTRAINT  X_T_RT_276_ANSI_MSG PRIMARY KEY (UU_ID,RCD_TYPE_CD,DIR_IND);

CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_RT_276_CTRL_LOG') ;

CREATE TABLE EDIDB2A.T_RT_276_CTRL_LOG (
	UU_ID BIGINT NOT NULL,
	RCD_TYPE_CD CHARACTER(1) NOT NULL,
	SEQ_NUM INTEGER,
	TRAN_BG_TS TIMESTAMP,
	SUBM_ID VARCHAR(15),
	RECR_ID VARCHAR(15),
	INB_ISA_CTRL_NUM VARCHAR(9),
	INB_TRAN_CTRL_NUM VARCHAR(9),
	SEG109_PROV_NME VARCHAR(80),
	NPI_NUM VARCHAR(10),
	TAX_ID VARCHAR(9),
	PROV_ID VARCHAR(13),
	TRC_NUM VARCHAR(50),
	CTRC_ID VARCHAR(17),
	BUS_SEG_CD CHARACTER(1),
	OUTB_ISA_CTRL_NUM VARCHAR(9),
	OUTB_TRAN_CTRL_NUM VARCHAR(9),
	TRAN_END_TS TIMESTAMP,
	SLA_TS TIMESTAMP,
	TRAN_ERR_CD INTEGER,
	DATA_FMT_CD CHARACTER(1),
	NTV_IND CHARACTER(1),
	RPLY_TO_QUE_NME VARCHAR(48),
	RPLY_TO_QUE_MGR_NME VARCHAR(48),
	ORIG_QUE_MSG_ID VARCHAR(48),
	CURR_STU_CD INTEGER,
	MSG_DAY INTEGER,
	PRIMARY KEY (UU_ID,RCD_TYPE_CD)
)IN TBSP_TABLES INDEX IN TBSP_INDEX;


ALTER TABLE EDIDB2A.T_RT_276_CTRL_LOG  ADD CONSTRAINT  X_T_RT_276_CTRL_LOG PRIMARY KEY (UU_ID,RCD_TYPE_CD);

CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_RT_SRC_TRAN_CTRL_AAA_ERR_CD') ;

CREATE TABLE EDIDB2A.T_RT_SRC_TRAN_CTRL_AAA_ERR_CD (
	ERR_CD VARCHAR(5) NOT NULL,
	TRAN_TYPE_CD VARCHAR(3),
	ERR_DSC VARCHAR(255),
	AAA01_SRC_TRAN_CTRL_011 VARCHAR(2),
	AAA03_SRC_TRAN_CTRL_012 VARCHAR(2),
	AAA04_SRC_TRAN_CTRL_013 VARCHAR(2),
	AAA_LOOP_CD VARCHAR(5),
	MSG01_TXT VARCHAR(256),
	RPT_IND CHARACTER(1),
	UPDT_USER_ID VARCHAR(30),
	UPDT_TS TIMESTAMP,
	PRIMARY KEY (ERR_CD)
)IN TBSP_TABLES INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_RT_SRC_TRAN_CTRL_AAA_ERR_CD  ADD CONSTRAINT  X_T_RT_SRC_TRAN_CTRL_AAA_ERR_CD PRIMARY KEY (ERR_CD);

CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_RT_277_XML_MSG') ;

CREATE TABLE EDIDB2A.T_RT_277_XML_MSG (
	UU_ID BIGINT NOT NULL,
	RCD_TYPE_CD CHARACTER(1) NOT NULL,
	DIR_IND CHARACTER(1) NOT NULL,
	SEQ_NUM INTEGER,
	MSG_OBJ CLOB,
	MSG_DAY INTEGER,
	MSG_TS TIMESTAMP,
	PRIMARY KEY (UU_ID,RCD_TYPE_CD,DIR_IND)
)IN TBSP_CLOBS INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_RT_277_XML_MSG  ADD CONSTRAINT  X_T_RT_277_XML_MSG PRIMARY KEY (UU_ID,RCD_TYPE_CD,DIR_IND);

CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_RT_277_ANSI_MSG') ;

CREATE TABLE EDIDB2A.T_RT_277_ANSI_MSG (
	UU_ID BIGINT NOT NULL,
	RCD_TYPE_CD CHARACTER(1) NOT NULL,
	DIR_IND CHARACTER(1) NOT NULL,
	SEQ_NUM INTEGER,
	MSG_OBJ CLOB,
	MSG_DAY INTEGER,
	MSG_TS TIMESTAMP,
	PRIMARY KEY (UU_ID,RCD_TYPE_CD,DIR_IND)
)IN TBSP_CLOBS INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_RT_277_ANSI_MSG  ADD CONSTRAINT  X_T_RT_277_ANSI_MSG PRIMARY KEY (UU_ID,RCD_TYPE_CD,DIR_IND);

CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_RT_276_XML_MSG') ;

CREATE TABLE EDIDB2A.T_RT_276_XML_MSG (
	UU_ID BIGINT NOT NULL,
	RCD_TYPE_CD CHARACTER(1) NOT NULL,
	DIR_IND CHARACTER(1) NOT NULL,
	SEQ_NUM INTEGER,
	MSG_OBJ CLOB,
	MSG_DAY INTEGER,
	MSG_TS TIMESTAMP,
	PRIMARY KEY (UU_ID,RCD_TYPE_CD,DIR_IND)
)IN TBSP_CLOBS INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_RT_276_XML_MSG  ADD CONSTRAINT  X_T_RT_276_XML_MSG PRIMARY KEY (UU_ID,RCD_TYPE_CD,DIR_IND);

CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_UI_276_CTRL_LOG') ;

CREATE TABLE EDIDB2A.T_UI_276_CTRL_LOG (
	UU_ID BIGINT NOT NULL,
	RCD_TYPE_CD CHARACTER(1) NOT NULL,
	SEQ_NUM INTEGER,
	TRAN_BG_TS TIMESTAMP,
	SUBM_ID VARCHAR(15),
	RECR_ID VARCHAR(15),
	INB_ISA_CTRL_NUM VARCHAR(9),
	INB_TRAN_CTRL_NUM VARCHAR(9),
	SEG109_PROV_NME VARCHAR(80),
	NPI_NUM VARCHAR(10),
	TAX_ID VARCHAR(9),
	PROV_ID VARCHAR(13),
	TRC_NUM VARCHAR(50),
	CTRC_ID VARCHAR(17),
	BUS_SEG_CD CHARACTER(1),
	OUTB_ISA_CTRL_NUM VARCHAR(9),
	OUTB_TRAN_CTRL_NUM VARCHAR(9),
	TRAN_END_TS TIMESTAMP,
	SLA_TS TIMESTAMP,
	TRAN_ERR_CD INTEGER,
	MSG_DAY INTEGER,
	DATA_FMT_CD CHARACTER(1),
	CURR_STU_CD INTEGER
	)IN TBSP_TABLES INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_UI_276_CTRL_LOG  ADD CONSTRAINT  X_T_UI_276_CTRL_LOG
 PRIMARY KEY (UU_ID,RCD_TYPE_CD);