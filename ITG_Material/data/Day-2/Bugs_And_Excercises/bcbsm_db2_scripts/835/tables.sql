--=============================================================================
--	Filename:	tables.sql
--	Author:		Nanaji Veturi
--	Date:		AUG/24/2010
--	Description:
--	This file Creates the tables for the Transaction 835
--=============================================================================
--=============================================================================
CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_835_CHK_CTRL_LOG');
--=============================================================================
CREATE TABLE EDIDB2A.T_835_CHK_CTRL_LOG (
	ST_ID 				BIGINT NOT NULL,
	ISA_ID 				BIGINT NOT NULL,
	GS_ID 				BIGINT NOT NULL,
	FILE_ID 			    BIGINT,
	ST01_PURP_CD   		CHAR(3),
	ST02_CTRL_NUM 		VARCHAR(9),
	ST03_REF_ID 		VARCHAR(50),
	ISA09_CHK_RUN_DT 	DATE,
	BPR16_CHK_DT 		DATE,
	CHK_TRC_NUM02 		VARCHAR(50),
	BPR02_CHK_AMT 		VARCHAR(18),
	DTM02_FILE_RECV_DT 	DATE,
	UNQ_RECV_ID 		VARCHAR(12),
	TEST_CD				CHAR(1) DEFAULT	'P',
    DEL_CD				CHAR(1) DEFAULT 'N',
	OUTB_SUBM_ID 		VARCHAR(12)
)IN TBSP_TABLES INDEX IN TBSP_INDEX;

--ALTER TABLE EDIDB2A.T_835_CHK_CTRL_LOG ADD CONSTRAINT  X_T_835_CHK_CTRL_LOG PRIMARY KEY (ST_ID);
--=============================================================================
CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_835_CHK_MSG');
--=============================================================================
CREATE TABLE EDIDB2A.T_835_CHK_MSG (
	MSG_ID 			BIGINT NOT NULL,
	ST_ID 			BIGINT NOT NULL,
	MSG_TS 			TIMESTAMP,
	MSG_DAY 		INTEGER,
	MSG_OBJ 		CLOB(2097152),
	MSG_TYPE_IND 	CHAR(1),
	UPDT_IND 		CHAR(1) DEFAULT '1',
	TEST_CD	 		CHAR(1) DEFAULT	'P',
    DEL_CD			CHAR(1) DEFAULT 'N',
	ISA16_CMPNT_ELE_SEPRT_IND CHAR(1),
	ELE_DLM         CHAR(1),
	SEG_DLM         VARCHAR(3)
	)IN TBSP_CLOBS INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_835_CHK_MSG ADD CONSTRAINT  X_835_CHK_MSG PRIMARY KEY (MSG_ID,ST_ID);
--=============================================================================
CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_835_CHK_PCES_LOG');
--=============================================================================

CREATE TABLE EDIDB2A.T_835_CHK_PCES_LOG (
	ST_ID 			BIGINT NOT NULL,
	UNQ_RECV_ID 	VARCHAR(12),
	CHK_STT_CD 		INTEGER,
	RECV_TS 		TIMESTAMP,
	EDIT_CPT_TS 	TIMESTAMP,
	BULK_TS 		TIMESTAMP,
	TRNMT_TS 		TIMESTAMP,
	ACKN_TS 		TIMESTAMP,
	GS02_SNDR_CD 	VARCHAR(15),
	ERR_CD 			BIGINT,
	TEST_CD	 		CHAR(1) DEFAULT	'P',
    DEL_CD			CHAR(1) DEFAULT 'N'
	)IN TBSP_TABLES INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_835_CHK_PCES_LOG ADD CONSTRAINT  X_T_835_CHK_PCES_LOG PRIMARY KEY (ST_ID);
CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_835_DOCU_CTRL_LOG');
--=============================================================================
CREATE TABLE EDIDB2A.T_835_DOCU_CTRL_LOG (
	ID						BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY 
							(  	START WITH +100000001 	INCREMENT BY +1  
							MINVALUE   +100000000  	MAXVALUE +9223372036854775807  
							NO CYCLE  CACHE 120  NO ORDER 
							) ,
	CLM_ID 					BIGINT,
	ST_ID 					BIGINT,
	FILE_ID 				BIGINT,
	ISA_ID 					BIGINT,
	GS_ID 					BIGINT,
	CLP07_DOCU_CTRL_NUM 	VARCHAR(50),
	N104_PAYE_ID 			VARCHAR(80),
	NM109_NPI_SERV_PROV_ID  VARCHAR(80),
	CLP01_PAT_ACCT_NUM 		VARCHAR(38),
	NM109_PAT_CTRC_NUM 		VARCHAR(80),
	PAT_FST_NME 			VARCHAR(30),
	PAT_LST_NME 			VARCHAR(30),
	TEST_CD	 				CHAR(1) DEFAULT 'P',
    DEL_CD	 				CHAR(1) DEFAULT 'N'
)IN TBSP_TABLES INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_835_DOCU_CTRL_LOG ADD CONSTRAINT  X_T_835_DOCU_CTRL_LOG PRIMARY KEY (ID);
--=============================================================================
CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_835_FILE_PCES_LOG');
--=============================================================================
CREATE TABLE EDIDB2A.T_835_FILE_PCES_LOG (
	FILE_ID 			BIGINT NOT NULL,
	PRNT_FILE_ID 		BIGINT,
	MAS_FILE_ID 		BIGINT,
	FILE_TYPE_CD 		CHAR(1),
	FILE_NME 			VARCHAR(255),
	FILE_SIZE_CNT 		BIGINT,
	FILE_FMT_CD 		CHAR(1),
	FILE_ROOT_DTRY_TXT	VARCHAR(75),
	FILE_SUB_DTRY_TXT	VARCHAR(50),
	FILE_STT_CD 		CHAR(2),
	FILE_DIR_IND 		CHAR(1),
	LOB_TXT 			VARCHAR(1),
	RECV_TS 			TIMESTAMP,
	PCES_TS 			TIMESTAMP,
	SPLT_FILE_NUM 		INTEGER,
	TRAN_VER_NUM 		VARCHAR(5),
	FILE_ORGN_CD 		CHAR(1),
	CMT_TXT 			VARCHAR(255),
	SUBM_ID 			VARCHAR(15),
	RECR_ID 			VARCHAR(18),
	RECR_QLFR 			CHAR(2),
	ISA_CTRL_NUM 		INTEGER,
	TEST_CD	 			CHAR(1) DEFAULT	'P',
    DEL_CD	 			CHAR(1) DEFAULT 'N'
	)IN TBSP_TABLES INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_835_FILE_PCES_LOG ADD CONSTRAINT  X_T_835_FILE_PCES_LOG PRIMARY KEY (FILE_ID);
--=============================================================================
CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_835_GS');
--=============================================================================
CREATE TABLE EDIDB2A.T_835_GS (
	GS_ID 				BIGINT NOT NULL,
	ISA_ID 				BIGINT NOT NULL,
	FILE_ID 			BIGINT NOT NULL,
	GS01_FUNCL_ID_CD 	VARCHAR(2),
	GS02_SNDR_CD 		VARCHAR(15),
	GS03_RECR_CD 		VARCHAR(15),
	GS04_CREA_DT 		DATE,
	GS05_CREA_TME 		TIME,
	GS06_CTRL_NUM 		INTEGER,
	GS07_RSPB_AGY_CD 	VARCHAR(2),
	GS08_VER_NUM 		VARCHAR(12),
	GE01_TRAN_SET_CNT 	VARCHAR(6),
	TEST_CD				CHAR(1) DEFAULT	'P',
    DEL_CD				CHAR(1) DEFAULT 'N'
	)IN TBSP_TABLES INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_835_GS ADD CONSTRAINT  X_T_835_GS PRIMARY KEY (GS_ID);
--=============================================================================
CALL EDIDB2A.SP_UTIL_DROP( 'TABLE EDIDB2A.T_835_ISA');
--=============================================================================
CREATE TABLE EDIDB2A.T_835_ISA (
	ISA_ID 					BIGINT NOT NULL,
	FILE_ID 				BIGINT NOT NULL,
	ISA01_ATHR_INFO_QLFR_CD VARCHAR(2),
	ISA02_ATHR_INFO_ID 		VARCHAR(10),
	ISA03_SEC_INFO_QLFR_CD 	VARCHAR(2),
	ISA04_SEC_INFO_ID 		VARCHAR(10),
	ISA05_SNDR_QLFR_CD 		VARCHAR(2),
	ISA06_SNDR_ID 			VARCHAR(15),
	ISA07_RECR_QLFR_CD 		VARCHAR(2),
	ISA08_RECR_ID 			VARCHAR(15),
	ISA09_CREA_DT 			DATE,
	ISA10_CREA_TME 			TIME,
	ISA11_REPT_SEPRT_IND 	CHAR(1),
	ISA12_VER_NUM 			VARCHAR(5),
	ISA13_CTRL_NUM 			INTEGER,
	ISA14_ACKN_RQ_IND 		CHAR(1),
	ISA15_USE_IND 			CHAR(1),
	ISA16_CMPNT_ELE_SEPRT_IND CHAR(1),
	ELE_DLM         		CHAR(1),
	SEG_DLM         		VARCHAR(3),
	TEST_CD					CHAR(1) DEFAULT	'P',
	DEL_CD					CHAR(1) DEFAULT 'N'
	)IN TBSP_TABLES INDEX IN TBSP_INDEX;

ALTER TABLE EDIDB2A.T_835_ISA ADD CONSTRAINT  X_T_835_ISA PRIMARY KEY (ISA_ID);
--=============================================================================
CALL EDIDB2A.SP_UTIL_DROP( 'SEQUENCE EDIDB2A.SEQ_835_CLAIM');
--=============================================================================
CREATE SEQUENCE EDIDB2A.SEQ_835_CLAIM  AS BIGINT  MINVALUE 1 MAXVALUE 9223372036854775807
	START WITH 100000000000 INCREMENT BY 1 	CACHE 240 NO CYCLE NO ORDER;




